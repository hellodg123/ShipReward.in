{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":26,"index":186}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        const message = error.response?.data?.detail || 'Login failed. Please try again.';\n        throw new Error(message);\n      }\n    };\n    const register = async userData => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, userData);\n        const {\n          access_token,\n          user: newUser\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(newUser));\n        setToken(access_token);\n        setUser(newUser);\n      } catch (error) {\n        const message = error.response?.data?.detail || 'Registration failed. Please try again.';\n        throw new Error(message);\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    const forgotPassword = async email => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/forgot-password`, {\n          email\n        });\n        return response.data.message;\n      } catch (error) {\n        const message = error.response?.data?.detail || 'Failed to process request. Please try again.';\n        throw new Error(message);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout,\n        forgotPassword\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":136,"map":[[13,2,37,0,"Object"],[13,8,37,0],[13,9,37,0,"defineProperty"],[13,23,37,0],[13,24,37,0,"exports"],[13,31,37,0],[14,4,37,0,"enumerable"],[14,14,37,0],[15,4,37,0,"get"],[15,7,37,0],[15,18,37,0,"get"],[15,19,37,0],[16,6,37,0],[16,13,37,0,"useAuth"],[16,20,37,0],[17,4,37,0],[18,2,37,0],[19,2,45,0,"Object"],[19,8,45,0],[19,9,45,0,"defineProperty"],[19,23,45,0],[19,24,45,0,"exports"],[19,31,45,0],[20,4,45,0,"enumerable"],[20,14,45,0],[21,4,45,0,"get"],[21,7,45,0],[21,18,45,0,"get"],[21,19,45,0],[22,6,45,0],[22,13,45,0,"AuthProvider"],[22,25,45,0],[23,4,45,0],[24,2,45,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,5,0],[31,8,5,6,"API_URL"],[31,15,5,13],[31,18,5,16,"process"],[31,25,5,23],[31,26,5,24,"env"],[31,29,5,27],[31,30,5,28,"EXPO_PUBLIC_BACKEND_URL"],[31,53,5,51],[31,57,5,55],[31,59,5,57],[32,2,35,0],[32,8,35,6,"AuthContext"],[32,19,35,17],[32,35,35,20],[32,39,35,20,"createContext"],[32,45,35,33],[32,46,35,33,"createContext"],[32,59,35,33],[32,61,35,63,"undefined"],[32,70,35,72],[32,71,35,73],[33,2,37,7],[33,8,37,13,"useAuth"],[33,15,37,20],[33,18,37,23,"useAuth"],[33,19,37,23],[33,24,37,29],[34,4,38,2],[34,10,38,8,"context"],[34,17,38,15],[34,20,38,18],[34,24,38,18,"useContext"],[34,30,38,28],[34,31,38,28,"useContext"],[34,41,38,28],[34,43,38,29,"AuthContext"],[34,54,38,40],[34,55,38,41],[35,4,39,2],[35,8,39,6],[35,9,39,7,"context"],[35,16,39,14],[35,18,39,16],[36,6,40,4],[36,12,40,10],[36,16,40,14,"Error"],[36,21,40,19],[36,22,40,20],[36,67,40,65],[36,68,40,66],[37,4,41,2],[38,4,42,2],[38,11,42,9,"context"],[38,18,42,16],[39,2,43,0],[39,3,43,1],[40,2,45,7],[40,8,45,13,"AuthProvider"],[40,20,45,25],[40,23,45,28,"AuthProvider"],[40,24,45,29],[41,4,45,31,"children"],[42,2,45,65],[42,3,45,66],[42,8,45,71],[43,4,46,2],[43,10,46,8],[43,11,46,9,"user"],[43,15,46,13],[43,17,46,15,"setUser"],[43,24,46,22],[43,25,46,23],[43,28,46,26],[43,32,46,26,"useState"],[43,38,46,34],[43,39,46,34,"useState"],[43,47,46,34],[43,49,46,48],[43,53,46,52],[43,54,46,53],[44,4,47,2],[44,10,47,8],[44,11,47,9,"token"],[44,16,47,14],[44,18,47,16,"setToken"],[44,26,47,24],[44,27,47,25],[44,30,47,28],[44,34,47,28,"useState"],[44,40,47,36],[44,41,47,36,"useState"],[44,49,47,36],[44,51,47,52],[44,55,47,56],[44,56,47,57],[45,4,48,2],[45,10,48,8],[45,11,48,9,"isLoading"],[45,20,48,18],[45,22,48,20,"setIsLoading"],[45,34,48,32],[45,35,48,33],[45,38,48,36],[45,42,48,36,"useState"],[45,48,48,44],[45,49,48,44,"useState"],[45,57,48,44],[45,59,48,45],[45,63,48,49],[45,64,48,50],[46,4,50,2],[46,8,50,2,"useEffect"],[46,14,50,11],[46,15,50,11,"useEffect"],[46,24,50,11],[46,26,50,12],[46,32,50,18],[47,6,51,4,"loadStoredAuth"],[47,20,51,18],[47,21,51,19],[47,22,51,20],[48,4,52,2],[48,5,52,3],[48,7,52,5],[48,9,52,7],[48,10,52,8],[49,4,54,2],[49,10,54,8,"loadStoredAuth"],[49,24,54,22],[49,27,54,25],[49,33,54,25,"loadStoredAuth"],[49,34,54,25],[49,39,54,37],[50,6,55,4],[50,10,55,8],[51,8,56,6],[51,14,56,12,"storedToken"],[51,25,56,23],[51,28,56,26],[51,34,56,32,"AsyncStorage"],[51,46,56,44],[51,47,56,44,"default"],[51,54,56,44],[51,55,56,45,"getItem"],[51,62,56,52],[51,63,56,53],[51,70,56,60],[51,71,56,61],[52,8,57,6],[52,14,57,12,"storedUser"],[52,24,57,22],[52,27,57,25],[52,33,57,31,"AsyncStorage"],[52,45,57,43],[52,46,57,43,"default"],[52,53,57,43],[52,54,57,44,"getItem"],[52,61,57,51],[52,62,57,52],[52,68,57,58],[52,69,57,59],[53,8,59,6],[53,12,59,10,"storedToken"],[53,23,59,21],[53,27,59,25,"storedUser"],[53,37,59,35],[53,39,59,37],[54,10,60,8,"setToken"],[54,18,60,16],[54,19,60,17,"storedToken"],[54,30,60,28],[54,31,60,29],[55,10,61,8,"setUser"],[55,17,61,15],[55,18,61,16,"JSON"],[55,22,61,20],[55,23,61,21,"parse"],[55,28,61,26],[55,29,61,27,"storedUser"],[55,39,61,37],[55,40,61,38],[55,41,61,39],[56,8,62,6],[57,6,63,4],[57,7,63,5],[57,8,63,6],[57,15,63,13,"error"],[57,20,63,18],[57,22,63,20],[58,8,64,6,"console"],[58,15,64,13],[58,16,64,14,"error"],[58,21,64,19],[58,22,64,20],[58,50,64,48],[58,52,64,50,"error"],[58,57,64,55],[58,58,64,56],[59,6,65,4],[59,7,65,5],[59,16,65,14],[60,8,66,6,"setIsLoading"],[60,20,66,18],[60,21,66,19],[60,26,66,24],[60,27,66,25],[61,6,67,4],[62,4,68,2],[62,5,68,3],[63,4,70,2],[63,10,70,8,"login"],[63,15,70,13],[63,18,70,16],[63,24,70,16,"login"],[63,25,70,23,"email"],[63,30,70,36],[63,32,70,38,"password"],[63,40,70,54],[63,45,70,59],[64,6,71,4],[64,10,71,8],[65,8,72,6],[65,14,72,12,"response"],[65,22,72,20],[65,25,72,23],[65,31,72,29,"axios"],[65,36,72,34],[65,37,72,34,"default"],[65,44,72,34],[65,45,72,35,"post"],[65,49,72,39],[65,50,72,40],[65,53,72,43,"API_URL"],[65,60,72,50],[65,77,72,67],[65,79,72,69],[66,10,73,8,"email"],[66,15,73,13],[67,10,74,8,"password"],[68,8,75,6],[68,9,75,7],[68,10,75,8],[69,8,77,6],[69,14,77,12],[70,10,77,14,"access_token"],[70,22,77,26],[71,10,77,28,"user"],[71,14,77,32],[71,16,77,34,"userData"],[72,8,77,43],[72,9,77,44],[72,12,77,47,"response"],[72,20,77,55],[72,21,77,56,"data"],[72,25,77,60],[73,8,79,6],[73,14,79,12,"AsyncStorage"],[73,26,79,24],[73,27,79,24,"default"],[73,34,79,24],[73,35,79,25,"setItem"],[73,42,79,32],[73,43,79,33],[73,50,79,40],[73,52,79,42,"access_token"],[73,64,79,54],[73,65,79,55],[74,8,80,6],[74,14,80,12,"AsyncStorage"],[74,26,80,24],[74,27,80,24,"default"],[74,34,80,24],[74,35,80,25,"setItem"],[74,42,80,32],[74,43,80,33],[74,49,80,39],[74,51,80,41,"JSON"],[74,55,80,45],[74,56,80,46,"stringify"],[74,65,80,55],[74,66,80,56,"userData"],[74,74,80,64],[74,75,80,65],[74,76,80,66],[75,8,82,6,"setToken"],[75,16,82,14],[75,17,82,15,"access_token"],[75,29,82,27],[75,30,82,28],[76,8,83,6,"setUser"],[76,15,83,13],[76,16,83,14,"userData"],[76,24,83,22],[76,25,83,23],[77,6,84,4],[77,7,84,5],[77,8,84,6],[77,15,84,13,"error"],[77,20,84,23],[77,22,84,25],[78,8,85,6],[78,14,85,12,"message"],[78,21,85,19],[78,24,85,22,"error"],[78,29,85,27],[78,30,85,28,"response"],[78,38,85,36],[78,40,85,38,"data"],[78,44,85,42],[78,46,85,44,"detail"],[78,52,85,50],[78,56,85,54],[78,89,85,87],[79,8,86,6],[79,14,86,12],[79,18,86,16,"Error"],[79,23,86,21],[79,24,86,22,"message"],[79,31,86,29],[79,32,86,30],[80,6,87,4],[81,4,88,2],[81,5,88,3],[82,4,90,2],[82,10,90,8,"register"],[82,18,90,16],[82,21,90,19],[82,27,90,26,"userData"],[82,35,90,48],[82,39,90,53],[83,6,91,4],[83,10,91,8],[84,8,92,6],[84,14,92,12,"response"],[84,22,92,20],[84,25,92,23],[84,31,92,29,"axios"],[84,36,92,34],[84,37,92,34,"default"],[84,44,92,34],[84,45,92,35,"post"],[84,49,92,39],[84,50,92,40],[84,53,92,43,"API_URL"],[84,60,92,50],[84,80,92,70],[84,82,92,72,"userData"],[84,90,92,80],[84,91,92,81],[85,8,94,6],[85,14,94,12],[86,10,94,14,"access_token"],[86,22,94,26],[87,10,94,28,"user"],[87,14,94,32],[87,16,94,34,"newUser"],[88,8,94,42],[88,9,94,43],[88,12,94,46,"response"],[88,20,94,54],[88,21,94,55,"data"],[88,25,94,59],[89,8,96,6],[89,14,96,12,"AsyncStorage"],[89,26,96,24],[89,27,96,24,"default"],[89,34,96,24],[89,35,96,25,"setItem"],[89,42,96,32],[89,43,96,33],[89,50,96,40],[89,52,96,42,"access_token"],[89,64,96,54],[89,65,96,55],[90,8,97,6],[90,14,97,12,"AsyncStorage"],[90,26,97,24],[90,27,97,24,"default"],[90,34,97,24],[90,35,97,25,"setItem"],[90,42,97,32],[90,43,97,33],[90,49,97,39],[90,51,97,41,"JSON"],[90,55,97,45],[90,56,97,46,"stringify"],[90,65,97,55],[90,66,97,56,"newUser"],[90,73,97,63],[90,74,97,64],[90,75,97,65],[91,8,99,6,"setToken"],[91,16,99,14],[91,17,99,15,"access_token"],[91,29,99,27],[91,30,99,28],[92,8,100,6,"setUser"],[92,15,100,13],[92,16,100,14,"newUser"],[92,23,100,21],[92,24,100,22],[93,6,101,4],[93,7,101,5],[93,8,101,6],[93,15,101,13,"error"],[93,20,101,23],[93,22,101,25],[94,8,102,6],[94,14,102,12,"message"],[94,21,102,19],[94,24,102,22,"error"],[94,29,102,27],[94,30,102,28,"response"],[94,38,102,36],[94,40,102,38,"data"],[94,44,102,42],[94,46,102,44,"detail"],[94,52,102,50],[94,56,102,54],[94,96,102,94],[95,8,103,6],[95,14,103,12],[95,18,103,16,"Error"],[95,23,103,21],[95,24,103,22,"message"],[95,31,103,29],[95,32,103,30],[96,6,104,4],[97,4,105,2],[97,5,105,3],[98,4,107,2],[98,10,107,8,"logout"],[98,16,107,14],[98,19,107,17],[98,25,107,17,"logout"],[98,26,107,17],[98,31,107,29],[99,6,108,4],[99,10,108,8],[100,8,109,6],[100,14,109,12,"AsyncStorage"],[100,26,109,24],[100,27,109,24,"default"],[100,34,109,24],[100,35,109,25,"removeItem"],[100,45,109,35],[100,46,109,36],[100,53,109,43],[100,54,109,44],[101,8,110,6],[101,14,110,12,"AsyncStorage"],[101,26,110,24],[101,27,110,24,"default"],[101,34,110,24],[101,35,110,25,"removeItem"],[101,45,110,35],[101,46,110,36],[101,52,110,42],[101,53,110,43],[102,8,111,6,"setToken"],[102,16,111,14],[102,17,111,15],[102,21,111,19],[102,22,111,20],[103,8,112,6,"setUser"],[103,15,112,13],[103,16,112,14],[103,20,112,18],[103,21,112,19],[104,6,113,4],[104,7,113,5],[104,8,113,6],[104,15,113,13,"error"],[104,20,113,18],[104,22,113,20],[105,8,114,6,"console"],[105,15,114,13],[105,16,114,14,"error"],[105,21,114,19],[105,22,114,20],[105,42,114,40],[105,44,114,42,"error"],[105,49,114,47],[105,50,114,48],[106,6,115,4],[107,4,116,2],[107,5,116,3],[108,4,118,2],[108,10,118,8,"forgotPassword"],[108,24,118,22],[108,27,118,25],[108,33,118,32,"email"],[108,38,118,45],[108,42,118,67],[109,6,119,4],[109,10,119,8],[110,8,120,6],[110,14,120,12,"response"],[110,22,120,20],[110,25,120,23],[110,31,120,29,"axios"],[110,36,120,34],[110,37,120,34,"default"],[110,44,120,34],[110,45,120,35,"post"],[110,49,120,39],[110,50,120,40],[110,53,120,43,"API_URL"],[110,60,120,50],[110,87,120,77],[110,89,120,79],[111,10,120,81,"email"],[112,8,120,87],[112,9,120,88],[112,10,120,89],[113,8,121,6],[113,15,121,13,"response"],[113,23,121,21],[113,24,121,22,"data"],[113,28,121,26],[113,29,121,27,"message"],[113,36,121,34],[114,6,122,4],[114,7,122,5],[114,8,122,6],[114,15,122,13,"error"],[114,20,122,23],[114,22,122,25],[115,8,123,6],[115,14,123,12,"message"],[115,21,123,19],[115,24,123,22,"error"],[115,29,123,27],[115,30,123,28,"response"],[115,38,123,36],[115,40,123,38,"data"],[115,44,123,42],[115,46,123,44,"detail"],[115,52,123,50],[115,56,123,54],[115,102,123,100],[116,8,124,6],[116,14,124,12],[116,18,124,16,"Error"],[116,23,124,21],[116,24,124,22,"message"],[116,31,124,29],[116,32,124,30],[117,6,125,4],[118,4,126,2],[118,5,126,3],[119,4,128,2],[119,24,129,4],[119,28,129,4,"_reactJsxDevRuntime"],[119,47,129,4],[119,48,129,4,"jsxDEV"],[119,54,129,4],[119,56,129,5,"AuthContext"],[119,67,129,16],[119,68,129,17,"Provider"],[119,76,129,25],[120,6,129,26,"value"],[120,11,129,31],[120,13,129,33],[121,8,129,35,"user"],[121,12,129,39],[122,8,129,41,"token"],[122,13,129,46],[123,8,129,48,"isLoading"],[123,17,129,57],[124,8,129,59,"login"],[124,13,129,64],[125,8,129,66,"register"],[125,16,129,74],[126,8,129,76,"logout"],[126,14,129,82],[127,8,129,84,"forgotPassword"],[128,6,129,99],[128,7,129,101],[129,6,129,101,"children"],[129,14,129,101],[129,16,130,7,"children"],[130,4,130,15],[131,6,130,15,"fileName"],[131,14,130,15],[131,16,130,15,"_jsxFileName"],[131,28,130,15],[132,6,130,15,"lineNumber"],[132,16,130,15],[133,6,130,15,"columnNumber"],[133,18,130,15],[134,4,130,15],[134,11,131,26],[134,12,131,27],[135,2,133,0],[135,3,133,1],[136,0,133,2],[136,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","forgotPassword"],"mappings":"AAA;uBCoC;CDM;4BEE;YCK;GDE;yBEE;GFc;gBGE;GHkB;mBIE;GJe;iBKE;GLS;yBME;GNQ;CFO"},"hasCjsExports":false},"type":"js/module"}]}