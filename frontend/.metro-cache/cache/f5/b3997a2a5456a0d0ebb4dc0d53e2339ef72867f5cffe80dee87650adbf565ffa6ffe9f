{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":26,"index":186}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return f}});var t=r(d[0]),s=e(r(d[1])),o=e(r(d[2])),n=r(d[3]);const u=process.env.EXPO_PUBLIC_BACKEND_URL||'',l=(0,t.createContext)(void 0),c=()=>{const e=(0,t.useContext)(l);if(!e)throw new Error('useAuth must be used within an AuthProvider');return e},f=({children:e})=>{const[c,f]=(0,t.useState)(null),[w,h]=(0,t.useState)(null),[y,p]=(0,t.useState)(!0);(0,t.useEffect)(()=>{P()},[]);const P=async()=>{try{const e=await s.default.getItem('token'),t=await s.default.getItem('user');e&&t&&(h(e),f(JSON.parse(t)))}catch(e){console.error('Error loading stored auth:',e)}finally{p(!1)}};return(0,n.jsx)(l.Provider,{value:{user:c,token:w,isLoading:y,login:async(e,t)=>{try{const n=await o.default.post(`${u}/api/auth/login`,{email:e,password:t}),{access_token:l,user:c}=n.data;await s.default.setItem('token',l),await s.default.setItem('user',JSON.stringify(c)),h(l),f(c)}catch(e){const t=e.response?.data?.detail||'Login failed. Please try again.';throw new Error(t)}},register:async e=>{try{const t=await o.default.post(`${u}/api/auth/register`,e),{access_token:n,user:l}=t.data;await s.default.setItem('token',n),await s.default.setItem('user',JSON.stringify(l)),h(n),f(l)}catch(e){const t=e.response?.data?.detail||'Registration failed. Please try again.';throw new Error(t)}},logout:async()=>{try{await s.default.removeItem('token'),await s.default.removeItem('user'),h(null),f(null)}catch(e){console.error('Error logging out:',e)}},forgotPassword:async e=>{try{return(await o.default.post(`${u}/api/auth/forgot-password`,{email:e})).data.message}catch(e){const t=e.response?.data?.detail||'Failed to process request. Please try again.';throw new Error(t)}}},children:e})}});","lineCount":1,"map":[[1,143,37,0,"Object"],[1,150,37,0,"defineProperty"],[1,165,37,0,"_e"],[1,168,37,0],[1,179,37,0,"enumerable"],[1,191,37,0],[1,193,37,0,"get"],[1,197,37,0],[1,215,37,0,"useAuth"],[1,216,37,0],[1,220,45,0,"Object"],[1,227,45,0,"defineProperty"],[1,242,45,0,"_e"],[1,245,45,0],[1,261,45,0,"enumerable"],[1,273,45,0],[1,275,45,0,"get"],[1,279,45,0],[1,297,45,0,"AuthProvider"],[1,298,45,0],[1,302,1,0],[1,306,1,0,"_react"],[1,308,1,0,"r"],[1,310,1,0,"d"],[1,312,1,0],[1,316,2,0,"AsyncStorage"],[1,318,2,0,"_interopDefault"],[1,320,2,0,"r"],[1,322,2,0,"d"],[1,324,2,0],[1,329,3,0,"axios"],[1,331,3,0,"_interopDefault"],[1,333,3,0,"r"],[1,335,3,0,"d"],[1,337,3,0],[1,342,3,26,"_reactJsxRuntime"],[1,344,3,26,"r"],[1,346,3,26,"d"],[1,348,3,26],[1,352,5,0],[1,358,5,6,"API_URL"],[1,360,5,16,"process"],[1,368,5,24,"env"],[1,372,5,28,"EXPO_PUBLIC_BACKEND_URL"],[1,397,5,55],[1,400,35,6,"AuthContext"],[1,403,35,20],[1,405,35,20,"createContext"],[1,407,35,33,"createContext"],[1,427,35,63,"undefined"],[1,430,37,13,"useAuth"],[1,432,37,23,"useAuth"],[1,437,38,2],[1,443,38,8,"context"],[1,446,38,18],[1,448,38,18,"useContext"],[1,450,38,28,"useContext"],[1,462,38,29,"AuthContext"],[1,465,39,2],[1,469,39,7,"context"],[1,471,40,4],[1,477,40,10],[1,481,40,14,"Error"],[1,487,40,20],[1,534,42,2],[1,541,42,9,"context"],[1,544,45,13,"AuthProvider"],[1,546,45,28,"AuthProvider"],[1,548,45,31,"children"],[1,563,46,2],[1,569,46,9,"user"],[1,571,46,15,"setUser"],[1,575,46,26],[1,577,46,26,"useState"],[1,579,46,34,"useState"],[1,589,46,48],[1,596,47,9,"token"],[1,598,47,16,"setToken"],[1,602,47,28],[1,604,47,28,"useState"],[1,606,47,36,"useState"],[1,616,47,52],[1,623,48,9,"isLoading"],[1,625,48,20,"setIsLoading"],[1,629,48,36],[1,631,48,36,"useState"],[1,633,48,44,"useState"],[1,644,48,45],[1,648,50,2],[1,650,50,2,"useEffect"],[1,652,50,11,"useEffect"],[1,663,50,12],[1,668,51,4,"loadStoredAuth"],[1,673,52,5],[1,677,54,2],[1,683,54,8,"loadStoredAuth"],[1,685,54,25,"async"],[1,695,55,4],[1,699,56,6],[1,705,56,12,"storedToken"],[1,713,56,32,"AsyncStorage"],[1,715,56,44,"default"],[1,723,56,45,"getItem"],[1,731,56,53],[1,740,57,12,"storedUser"],[1,748,57,31,"AsyncStorage"],[1,750,57,43,"default"],[1,758,57,44,"getItem"],[1,766,57,52],[1,774,59,10,"storedToken"],[1,777,59,25,"storedUser"],[1,781,60,8,"setToken"],[1,783,60,17,"storedToken"],[1,786,61,8,"setUser"],[1,788,61,16,"JSON"],[1,793,61,21,"parse"],[1,799,61,27,"storedUser"],[1,803,63,4],[1,804,63,6],[1,810,63,13,"error"],[1,813,64,6,"console"],[1,821,64,14,"error"],[1,827,64,20],[1,856,64,50,"error"],[1,858,65,4],[1,859,65,5],[1,867,66,6,"setIsLoading"],[1,870,66,19],[1,872,67,4],[1,875,128,2],[1,882,129,4],[1,884,129,4,"_reactJsxRuntime"],[1,886,129,4,"jsx"],[1,891,129,5,"AuthContext"],[1,893,129,17,"Provider"],[1,902,129,25],[1,903,129,26,"value"],[1,909,129,33],[1,910,129,35,"user"],[1,917,129,41,"token"],[1,925,129,48,"isLoading"],[1,937,129,59,"login"],[1,943,70,16,"async"],[1,949,70,23,"email"],[1,951,70,38,"password"],[1,956,71,4],[1,960,72,6],[1,966,72,12,"response"],[1,974,72,29,"axios"],[1,976,72,34,"default"],[1,984,72,35,"post"],[1,989,72,40],[1,992,72,43,"API_URL"],[1,1011,72,69],[1,1012,73,8,"email"],[1,1020,74,8,"password"],[1,1034,77,12,"access_token"],[1,1047,77,14,"access_token"],[1,1049,77,28,"user"],[1,1054,77,34,"userData"],[1,1057,77,47,"response"],[1,1059,77,56,"data"],[1,1070,79,12,"AsyncStorage"],[1,1072,79,24,"default"],[1,1080,79,25,"setItem"],[1,1088,79,33],[1,1096,79,42,"access_token"],[1,1105,80,12,"AsyncStorage"],[1,1107,80,24,"default"],[1,1115,80,25,"setItem"],[1,1123,80,33],[1,1130,80,41,"JSON"],[1,1135,80,46,"stringify"],[1,1145,80,56,"userData"],[1,1149,82,6,"setToken"],[1,1151,82,15,"access_token"],[1,1154,83,6,"setUser"],[1,1156,83,14,"userData"],[1,1158,84,4],[1,1159,84,6],[1,1165,84,13,"error"],[1,1168,85,6],[1,1174,85,12,"message"],[1,1176,85,22,"error"],[1,1178,85,28,"response"],[1,1188,85,38,"data"],[1,1194,85,44,"detail"],[1,1202,85,54],[1,1236,86,6],[1,1242,86,12],[1,1246,86,16,"Error"],[1,1252,86,22,"message"],[1,1254,87,4],[1,1257,129,66,"register"],[1,1266,90,19,"async"],[1,1276,91,4],[1,1280,92,6],[1,1286,92,12,"response"],[1,1294,92,29,"axios"],[1,1296,92,34,"default"],[1,1304,92,35,"post"],[1,1309,92,40],[1,1312,92,43,"API_URL"],[1,1334,92,72,"userData"],[1,1338,94,12,"access_token"],[1,1351,94,14,"access_token"],[1,1353,94,28,"user"],[1,1358,94,34,"newUser"],[1,1361,94,46,"response"],[1,1363,94,55,"data"],[1,1374,96,12,"AsyncStorage"],[1,1376,96,24,"default"],[1,1384,96,25,"setItem"],[1,1392,96,33],[1,1400,96,42,"access_token"],[1,1409,97,12,"AsyncStorage"],[1,1411,97,24,"default"],[1,1419,97,25,"setItem"],[1,1427,97,33],[1,1434,97,41,"JSON"],[1,1439,97,46,"stringify"],[1,1449,97,56,"newUser"],[1,1453,99,6,"setToken"],[1,1455,99,15,"access_token"],[1,1458,100,6,"setUser"],[1,1460,100,14,"newUser"],[1,1462,101,4],[1,1463,101,6],[1,1469,101,13,"error"],[1,1472,102,6],[1,1478,102,12,"message"],[1,1480,102,22,"error"],[1,1482,102,28,"response"],[1,1492,102,38,"data"],[1,1498,102,44,"detail"],[1,1506,102,54],[1,1547,103,6],[1,1553,103,12],[1,1557,103,16,"Error"],[1,1563,103,22,"message"],[1,1565,104,4],[1,1568,129,76,"logout"],[1,1575,107,17,"async"],[1,1585,108,4],[1,1595,109,12,"AsyncStorage"],[1,1597,109,24,"default"],[1,1605,109,25,"removeItem"],[1,1616,109,36],[1,1631,110,12,"AsyncStorage"],[1,1633,110,24,"default"],[1,1641,110,25,"removeItem"],[1,1652,110,36],[1,1660,111,6,"setToken"],[1,1662,111,15],[1,1668,112,6,"setUser"],[1,1670,112,14],[1,1675,113,4],[1,1676,113,6],[1,1682,113,13,"error"],[1,1685,114,6,"console"],[1,1693,114,14,"error"],[1,1699,114,20],[1,1720,114,42,"error"],[1,1722,115,4],[1,1725,129,84,"forgotPassword"],[1,1740,118,25,"async"],[1,1750,119,4],[1,1754,121,6],[1,1767,120,29,"axios"],[1,1769,120,34,"default"],[1,1777,120,35,"post"],[1,1782,120,40],[1,1785,120,43,"API_URL"],[1,1814,120,79],[1,1815,120,81,"email"],[1,1826,121,22,"data"],[1,1831,121,27,"message"],[1,1838,122,4],[1,1839,122,6],[1,1845,122,13,"error"],[1,1848,123,6],[1,1854,123,12,"message"],[1,1856,123,22,"error"],[1,1858,123,28,"response"],[1,1868,123,38,"data"],[1,1874,123,44,"detail"],[1,1882,123,54],[1,1929,124,6],[1,1935,124,12],[1,1939,124,16,"Error"],[1,1945,124,22,"message"],[1,1947,125,4],[1,1951,129,101,"children"],[1,1960,130,7,"children"],[1,1964,133,2],[1,1967]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","forgotPassword"],"mappings":"AAA;uBCoC;CDM;4BEE;YCK;GDE;yBEE;GFc;gBGE;GHkB;mBIE;GJe;iBKE;GLS;yBME;GNQ;CFO"},"hasCjsExports":false},"type":"js/module"}]}