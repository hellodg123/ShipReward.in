{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":26,"index":186}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"useAuth\",{enumerable:!0,get:function(){return c}}),Object.defineProperty(_e,\"AuthProvider\",{enumerable:!0,get:function(){return f}});var t=r(d[0]),s=e(r(d[1])),o=e(r(d[2])),n=r(d[3]);const u=\"https://win-rewards-4.preview.emergentagent.com\",l=(0,t.createContext)(void 0),c=()=>{const e=(0,t.useContext)(l);if(!e)throw new Error('useAuth must be used within an AuthProvider');return e},f=({children:e})=>{const[c,f]=(0,t.useState)(null),[w,h]=(0,t.useState)(null),[p,y]=(0,t.useState)(!0);(0,t.useEffect)(()=>{v()},[]);const v=async()=>{try{const e=await s.default.getItem('token'),t=await s.default.getItem('user');e&&t&&(h(e),f(JSON.parse(t)))}catch(e){console.error('Error loading stored auth:',e)}finally{y(!1)}};return(0,n.jsx)(l.Provider,{value:{user:c,token:w,isLoading:p,login:async(e,t)=>{try{const n=await o.default.post(`${u}/api/auth/login`,{email:e,password:t}),{access_token:l,user:c}=n.data;await s.default.setItem('token',l),await s.default.setItem('user',JSON.stringify(c)),h(l),f(c)}catch(e){const t=e.response?.data?.detail||'Login failed. Please try again.';throw new Error(t)}},register:async e=>{try{const t=await o.default.post(`${u}/api/auth/register`,e),{access_token:n,user:l}=t.data;await s.default.setItem('token',n),await s.default.setItem('user',JSON.stringify(l)),h(n),f(l)}catch(e){const t=e.response?.data?.detail||'Registration failed. Please try again.';throw new Error(t)}},logout:async()=>{try{await s.default.removeItem('token'),await s.default.removeItem('user'),h(null),f(null)}catch(e){console.error('Error logging out:',e)}},forgotPassword:async e=>{try{return(await o.default.post(`${u}/api/auth/forgot-password`,{email:e})).data.message}catch(e){const t=e.response?.data?.detail||'Failed to process request. Please try again.';throw new Error(t)}}},children:e})}});","lineCount":1,"map":[[1,143,37,0,"Object"],[1,150,37,0,"defineProperty"],[1,165,37,0,"_e"],[1,168,37,0],[1,179,37,0,"enumerable"],[1,191,37,0],[1,193,37,0,"get"],[1,197,37,0],[1,215,37,0,"useAuth"],[1,216,37,0],[1,220,45,0,"Object"],[1,227,45,0,"defineProperty"],[1,242,45,0,"_e"],[1,245,45,0],[1,261,45,0,"enumerable"],[1,273,45,0],[1,275,45,0,"get"],[1,279,45,0],[1,297,45,0,"AuthProvider"],[1,298,45,0],[1,302,1,0],[1,306,1,0,"_react"],[1,308,1,0,"r"],[1,310,1,0,"d"],[1,312,1,0],[1,316,2,0,"AsyncStorage"],[1,318,2,0,"_interopDefault"],[1,320,2,0,"r"],[1,322,2,0,"d"],[1,324,2,0],[1,329,3,0,"axios"],[1,331,3,0,"_interopDefault"],[1,333,3,0,"r"],[1,335,3,0,"d"],[1,337,3,0],[1,342,3,26,"_reactJsxRuntime"],[1,344,3,26,"r"],[1,346,3,26,"d"],[1,348,3,26],[1,352,5,0],[1,358,5,6,"API_URL"],[1,360,5,13],[1,416,35,6,"AuthContext"],[1,419,35,20],[1,421,35,20,"createContext"],[1,423,35,33,"createContext"],[1,443,35,63,"undefined"],[1,446,37,13,"useAuth"],[1,448,37,23,"useAuth"],[1,453,38,2],[1,459,38,8,"context"],[1,462,38,18],[1,464,38,18,"useContext"],[1,466,38,28,"useContext"],[1,478,38,29,"AuthContext"],[1,481,39,2],[1,485,39,7,"context"],[1,487,40,4],[1,493,40,10],[1,497,40,14,"Error"],[1,503,40,20],[1,550,42,2],[1,557,42,9,"context"],[1,560,45,13,"AuthProvider"],[1,562,45,28,"AuthProvider"],[1,564,45,31,"children"],[1,579,46,2],[1,585,46,9,"user"],[1,587,46,15,"setUser"],[1,591,46,26],[1,593,46,26,"useState"],[1,595,46,34,"useState"],[1,605,46,48],[1,612,47,9,"token"],[1,614,47,16,"setToken"],[1,618,47,28],[1,620,47,28,"useState"],[1,622,47,36,"useState"],[1,632,47,52],[1,639,48,9,"isLoading"],[1,641,48,20,"setIsLoading"],[1,645,48,36],[1,647,48,36,"useState"],[1,649,48,44,"useState"],[1,660,48,45],[1,664,50,2],[1,666,50,2,"useEffect"],[1,668,50,11,"useEffect"],[1,679,50,12],[1,684,51,4,"loadStoredAuth"],[1,689,52,5],[1,693,54,2],[1,699,54,8,"loadStoredAuth"],[1,701,54,25,"async"],[1,711,55,4],[1,715,56,6],[1,721,56,12,"storedToken"],[1,729,56,32,"AsyncStorage"],[1,731,56,44,"default"],[1,739,56,45,"getItem"],[1,747,56,53],[1,756,57,12,"storedUser"],[1,764,57,31,"AsyncStorage"],[1,766,57,43,"default"],[1,774,57,44,"getItem"],[1,782,57,52],[1,790,59,10,"storedToken"],[1,793,59,25,"storedUser"],[1,797,60,8,"setToken"],[1,799,60,17,"storedToken"],[1,802,61,8,"setUser"],[1,804,61,16,"JSON"],[1,809,61,21,"parse"],[1,815,61,27,"storedUser"],[1,819,63,4],[1,820,63,6],[1,826,63,13,"error"],[1,829,64,6,"console"],[1,837,64,14,"error"],[1,843,64,20],[1,872,64,50,"error"],[1,874,65,4],[1,875,65,5],[1,883,66,6,"setIsLoading"],[1,886,66,19],[1,888,67,4],[1,891,128,2],[1,898,129,4],[1,900,129,4,"_reactJsxRuntime"],[1,902,129,4,"jsx"],[1,907,129,5,"AuthContext"],[1,909,129,17,"Provider"],[1,918,129,25],[1,919,129,26,"value"],[1,925,129,33],[1,926,129,35,"user"],[1,933,129,41,"token"],[1,941,129,48,"isLoading"],[1,953,129,59,"login"],[1,959,70,16,"async"],[1,965,70,23,"email"],[1,967,70,38,"password"],[1,972,71,4],[1,976,72,6],[1,982,72,12,"response"],[1,990,72,29,"axios"],[1,992,72,34,"default"],[1,1000,72,35,"post"],[1,1005,72,40],[1,1008,72,43,"API_URL"],[1,1027,72,69],[1,1028,73,8,"email"],[1,1036,74,8,"password"],[1,1050,77,12,"access_token"],[1,1063,77,14,"access_token"],[1,1065,77,28,"user"],[1,1070,77,34,"userData"],[1,1073,77,47,"response"],[1,1075,77,56,"data"],[1,1086,79,12,"AsyncStorage"],[1,1088,79,24,"default"],[1,1096,79,25,"setItem"],[1,1104,79,33],[1,1112,79,42,"access_token"],[1,1121,80,12,"AsyncStorage"],[1,1123,80,24,"default"],[1,1131,80,25,"setItem"],[1,1139,80,33],[1,1146,80,41,"JSON"],[1,1151,80,46,"stringify"],[1,1161,80,56,"userData"],[1,1165,82,6,"setToken"],[1,1167,82,15,"access_token"],[1,1170,83,6,"setUser"],[1,1172,83,14,"userData"],[1,1174,84,4],[1,1175,84,6],[1,1181,84,13,"error"],[1,1184,85,6],[1,1190,85,12,"message"],[1,1192,85,22,"error"],[1,1194,85,28,"response"],[1,1204,85,38,"data"],[1,1210,85,44,"detail"],[1,1218,85,54],[1,1252,86,6],[1,1258,86,12],[1,1262,86,16,"Error"],[1,1268,86,22,"message"],[1,1270,87,4],[1,1273,129,66,"register"],[1,1282,90,19,"async"],[1,1292,91,4],[1,1296,92,6],[1,1302,92,12,"response"],[1,1310,92,29,"axios"],[1,1312,92,34,"default"],[1,1320,92,35,"post"],[1,1325,92,40],[1,1328,92,43,"API_URL"],[1,1350,92,72,"userData"],[1,1354,94,12,"access_token"],[1,1367,94,14,"access_token"],[1,1369,94,28,"user"],[1,1374,94,34,"newUser"],[1,1377,94,46,"response"],[1,1379,94,55,"data"],[1,1390,96,12,"AsyncStorage"],[1,1392,96,24,"default"],[1,1400,96,25,"setItem"],[1,1408,96,33],[1,1416,96,42,"access_token"],[1,1425,97,12,"AsyncStorage"],[1,1427,97,24,"default"],[1,1435,97,25,"setItem"],[1,1443,97,33],[1,1450,97,41,"JSON"],[1,1455,97,46,"stringify"],[1,1465,97,56,"newUser"],[1,1469,99,6,"setToken"],[1,1471,99,15,"access_token"],[1,1474,100,6,"setUser"],[1,1476,100,14,"newUser"],[1,1478,101,4],[1,1479,101,6],[1,1485,101,13,"error"],[1,1488,102,6],[1,1494,102,12,"message"],[1,1496,102,22,"error"],[1,1498,102,28,"response"],[1,1508,102,38,"data"],[1,1514,102,44,"detail"],[1,1522,102,54],[1,1563,103,6],[1,1569,103,12],[1,1573,103,16,"Error"],[1,1579,103,22,"message"],[1,1581,104,4],[1,1584,129,76,"logout"],[1,1591,107,17,"async"],[1,1601,108,4],[1,1611,109,12,"AsyncStorage"],[1,1613,109,24,"default"],[1,1621,109,25,"removeItem"],[1,1632,109,36],[1,1647,110,12,"AsyncStorage"],[1,1649,110,24,"default"],[1,1657,110,25,"removeItem"],[1,1668,110,36],[1,1676,111,6,"setToken"],[1,1678,111,15],[1,1684,112,6,"setUser"],[1,1686,112,14],[1,1691,113,4],[1,1692,113,6],[1,1698,113,13,"error"],[1,1701,114,6,"console"],[1,1709,114,14,"error"],[1,1715,114,20],[1,1736,114,42,"error"],[1,1738,115,4],[1,1741,129,84,"forgotPassword"],[1,1756,118,25,"async"],[1,1766,119,4],[1,1770,121,6],[1,1783,120,29,"axios"],[1,1785,120,34,"default"],[1,1793,120,35,"post"],[1,1798,120,40],[1,1801,120,43,"API_URL"],[1,1830,120,79],[1,1831,120,81,"email"],[1,1842,121,22,"data"],[1,1847,121,27,"message"],[1,1854,122,4],[1,1855,122,6],[1,1861,122,13,"error"],[1,1864,123,6],[1,1870,123,12,"message"],[1,1872,123,22,"error"],[1,1874,123,28,"response"],[1,1884,123,38,"data"],[1,1890,123,44,"detail"],[1,1898,123,54],[1,1945,124,6],[1,1951,124,12],[1,1955,124,16,"Error"],[1,1961,124,22,"message"],[1,1963,125,4],[1,1967,129,101,"children"],[1,1976,130,7,"children"],[1,1980,133,2],[1,1983]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","forgotPassword"],"mappings":"AAA;uBCoC;CDM;4BEE;YCK;GDE;yBEE;GFc;gBGE;GHkB;mBIE;GJe;iBKE;GLS;yBME;GNQ;CFO"},"hasCjsExports":false},"type":"js/module"}]}